{"version":3,"file":"index.es.js","mappings":"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","sources":["webpack://scroll-rise/webpack/bootstrap","webpack://scroll-rise/webpack/runtime/define property getters","webpack://scroll-rise/webpack/runtime/hasOwnProperty shorthand","webpack://scroll-rise/./src/util.ts","webpack://scroll-rise/./src/scroll-rise.ts","webpack://scroll-rise/./src/scroll-rise-speed.ts","webpack://scroll-rise/./src/models/scenes/scene.model.ts","webpack://scroll-rise/./src/models/scenes/sticky-platform.scene.ts","webpack://scroll-rise/./src/models/scenes/fixed-actors.scene.ts","webpack://scroll-rise/./src/models/time-frame.model.ts","webpack://scroll-rise/./src/models/actors/actor.model.ts","webpack://scroll-rise/./src/models/actors/initiable.actor.ts","webpack://scroll-rise/./src/models/actors/static.actor.ts","webpack://scroll-rise/./src/models/actors/ref.actor.ts","webpack://scroll-rise/./src/models/motions/motion.model.ts","webpack://scroll-rise/./src/models/motions/move.motion.ts","webpack://scroll-rise/./src/models/motions/size.motion.ts","webpack://scroll-rise/./src/models/motions/opacity.motion.ts","webpack://scroll-rise/./src/models/motions/bound.motion.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export class Util {\n\n  static displayWidth(): number {\n    return document.documentElement.clientWidth;\n  }\n\n  static displayHeight(): number {\n    return document.documentElement.clientHeight;\n  }\n\n}\n","import { StickyPlatformScene } from './models/scenes/sticky-platform.scene';\nimport { Util } from './util';\n\nexport class ScrollRise {\n\n  private ticking = false;\n  private scrollListener: (() => void) | undefined;\n  private resizeListener: (() => void) | undefined;\n\n  private displayWidth: number;\n  private displayHeight: number;\n\n  constructor(\n    public scene: StickyPlatformScene,\n  ) {\n    this.saveDisplaySize();\n    this.init();\n    this.tick();\n  }\n\n  saveDisplaySize() {\n    this.displayWidth = Util.displayWidth();\n    this.displayHeight = Util.displayHeight();\n  }\n\n  isNeedResize(): boolean {\n    return true;\n  }\n\n  tick() {\n    if (!this.ticking) {\n      window?.requestAnimationFrame(() => {\n        this.render(this.scene.elementY());\n        this.ticking = false;\n      });\n\n      this.ticking = true;\n    }\n  }\n\n  pos(scrollPos: number): number {\n    return scrollPos + this.scene.offset();\n  }\n\n  scroll() {\n    this.tick();\n  }\n\n  resize() {\n    if (this.isNeedResize()) {\n      this.scene.resizeHeight();\n      this.tick();\n    }\n  }\n\n  private init() {\n    this.scrollListener = this.scroll.bind(this);\n    window?.addEventListener('scroll', this.scrollListener);\n    this.resizeListener = this.resize.bind(this);\n    window?.addEventListener('resize', this.resizeListener);\n  }\n\n  stop() {\n    if (this.scrollListener) {\n      window?.removeEventListener('scroll', this.scrollListener);\n    }\n    if (this.resizeListener) {\n      window?.removeEventListener('resize', this.resizeListener);\n    }\n  }\n\n  render(scrollPos: number) {\n    for (const actor of this.scene.list) {\n      actor.render(-this.pos(scrollPos), this.scene);\n    }\n  }\n\n}\n","export class ScrollRiseSpeed {\n\n  private mouseupListener: (() => void) | undefined;\n  private mousedownListener: (() => void) | undefined;\n  private mousewheelListener: ((e: any) => void) | undefined;\n\n  constructor(\n    public container: HTMLElement,\n    protected options?: {\n      deltaY?: number,\n      limitY?: number,\n      excludeIds?: string[],\n    }\n  ) {}\n\n  handleScrollReset() {\n    scrollY = this.container.scrollTop;\n  }\n\n  exclude(e: any): any {\n    if (this.options?.excludeIds?.length) {\n      return document.elementsFromPoint(e.clientX, e.clientY).find(element => this.options?.excludeIds?.includes(element.id));\n    }\n  }\n\n  handleMouseWheel(e: any) {\n    if (!this.exclude(e)) {\n      e.preventDefault();\n      let delta = e.deltaY;\n      delta = this.options?.deltaY ? delta * this.options.deltaY : delta;\n      if (this.options?.limitY && Math.abs(delta) > this.options.limitY) {\n        delta = delta > 0 ? this.options.limitY : -this.options.limitY;\n      }\n      scrollY += delta;\n      if (scrollY > 0) {\n        var limitY = this.container.scrollHeight - this.container.clientHeight;\n        if (scrollY > limitY) {\n          scrollY = limitY;\n        }\n      } else {\n        scrollY = 0;\n      }\n      window?.scrollTo(0, scrollY);\n    }\n  }\n\n  init() {\n    this.mouseupListener = this.handleScrollReset.bind(this);\n    this.mousedownListener = this.handleScrollReset.bind(this);\n    this.mousewheelListener = this.handleMouseWheel.bind(this);\n    this.container.addEventListener('mouseup', this.mouseupListener, false);\n    this.container.addEventListener('mousedown', this.mousedownListener, false);\n    this.container.addEventListener('mousewheel', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('DOMMouseScroll', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('wheel', this.mousewheelListener, {\n      passive: false,\n    });\n  }\n\n  stop() {\n    if (this.mouseupListener) {\n      this.container.removeEventListener('mouseup', this.mouseupListener);\n    }\n    if (this.mousedownListener) {\n      this.container.removeEventListener('mousedown', this.mousedownListener);\n    }\n    if (this.mousewheelListener) {\n      this.container.removeEventListener('mousewheel', this.mousewheelListener);\n      this.container.removeEventListener('DOMMouseScroll', this.mousewheelListener);\n      this.container.removeEventListener('wheel', this.mousewheelListener);\n    }\n  }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\n\nexport interface SceneOptions {\n    offset?: (deviceWidth: number, deviceHeight: number, sceneHeight: number) => number;\n}\n\nexport abstract class SceneModel<Options extends SceneOptions> {\n\n    protected _list: Actor[] = [];\n    public abstract name: string;\n\n    protected abstract init(): void;\n    protected abstract resizeHeight(): void;\n\n    constructor(\n        protected el: HTMLElement,\n        protected height: (deviceWidth: number, deviceHeight: number) => number,\n        protected options?: Options,\n    ) {\n        this.setDefaults();\n        this.init();\n    }\n\n    protected setDefaults() {\n        this.options = {\n            ...this.defaults(),\n            ...this.options,\n        };\n    }\n\n    defaults(): SceneOptions {\n        return {\n            offset: () => 0,\n        };\n    }\n\n    offset(): number {\n        return this.options.offset(\n            Util.displayWidth(),\n            Util.displayHeight(),\n            this.height(Util.displayWidth(), Util.displayHeight()),\n        );\n    }\n\n    elementY(): number {\n        return this.el.getBoundingClientRect().y;\n    }\n\n    add(actor: Actor) {\n        this._list.push(actor);\n    }\n\n    get list(): Actor[] {\n        return this._list;\n    }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\nimport { SceneModel, SceneOptions } from './scene.model';\n\nexport interface StickyPlatformSceneOptions extends SceneOptions {\n  stickyPlatformHeight?: (deviceWidth: number, deviceHeight: number) => number;\n}\n\nexport class StickyPlatformScene extends SceneModel<StickyPlatformSceneOptions> {\n\n  public override name = 'StickyPlatformScene';\n\n  public platform: HTMLElement;\n\n  override defaults(): StickyPlatformSceneOptions {\n    return {\n      ...super.defaults(),\n      stickyPlatformHeight: (deviceWidth: number, deviceHeight: number) => deviceHeight,\n    };\n  }\n\n  override resizeHeight() {\n    this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n    this.resizePlatform();\n  }\n\n  resizePlatform() {\n    this.platform.style.height = `${this.options.stickyPlatformHeight(Util.displayWidth(), Util.displayHeight())}px`;\n  }\n\n  protected override init() {\n    this.el.style.position = 'relative';\n    this.el.style.overflow = 'visible';\n\n    this.platform = document.createElement('div');\n    this.platform.style.position = 'sticky';\n    this.platform.style.top = `0`;\n    this.platform.style.left = '0';\n    this.platform.style.width = '100%';\n    this.resizeHeight();\n\n    this.el.appendChild(this.platform);\n  }\n\n  override add(actor: Actor) {\n    super.add(actor);\n    if (this.el === actor.element.parentElement) {\n      this.platform.appendChild(actor.element);\n      actor.element.style.position = 'absolute';\n    }\n    actor.initElement();\n  }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\nimport { SceneModel, SceneOptions } from './scene.model';\n\nexport class FixedActorsScene extends SceneModel<SceneOptions> {\n\n    public override name = 'FixedActorsScene';\n\n    override resizeHeight() {\n        this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n    }\n\n    protected override init() {\n        this.resizeHeight();\n    }\n\n    override add(actor: Actor) {\n        super.add(actor);\n        actor.element.style.position = 'fixed';\n        actor.initElement();\n    }\n\n}\n","import { Motion } from './motions/motion.model';\nimport { Util } from '../util';\n\nexport class TimeFrame {\n\n  constructor(\n    public motion: Motion,\n    public start: (deviceWidth: number, deviceHeight: number) => number,\n    public end: (deviceWidth: number, deviceHeight: number) => number = start,\n  ) {\n    if (end === undefined) {\n      this.end = start;\n    } else  {\n      if (this.getStartPos() > this.getEndPos()) {\n        throw new SyntaxError('\"Start\" later than \"End\" in the frame');\n      }\n    }\n  }\n\n  getStartPos(): number {\n    return this.start(Util.displayWidth(), Util.displayHeight());\n  }\n\n  getEndPos(): number {\n    return this.end(Util.displayWidth(), Util.displayHeight());\n  }\n\n  length(): number {\n    return this.getEndPos() - this.getStartPos();\n  }\n\n}\n","import { TimeFrame } from '../time-frame.model';\nimport { Coord } from '../coord.model';\nimport { Util } from '../../util';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport abstract class Actor {\n\n  public element: HTMLElement | undefined;\n  abstract bindElement(): HTMLElement | undefined;\n\n  protected frames: TimeFrame[] = [];\n\n  abstract calcStartPosition(): Coord;\n\n  initStartPosition() {}\n  afterBindElement() {}\n\n  private groupFramesByMotion(frames: TimeFrame[]): { [key: string]: TimeFrame[] } {\n    return frames.reduce(\n      (acc: any, frame) => {\n        const motionName = frame.motion.name;\n        acc[motionName] = acc[motionName] ? [...acc[motionName], frame] : [frame];\n\n        return acc;\n      },\n      {}\n    );\n  }\n\n  render(scrollPos: number, scene: SceneModel<any>) {\n    const frames = this.groupFramesByMotion(this.frames);\n\n    for (const key of Object.keys(frames)) {\n      if (frames[key].length > 1) {\n        const visible = frames[key].filter(\n          frame =>\n            scrollPos < frame.getStartPos() && scrollPos + Util.displayHeight() >= frame.getStartPos() ||\n            scrollPos >= frame.getStartPos() && scrollPos + Util.displayHeight() <= frame.getEndPos() ||\n            scrollPos >= frame.getStartPos() && scrollPos <= frame.getEndPos()\n        );\n\n        if (visible.length === 1) {\n          frames[key] = visible;\n        } else if (visible.length === 0 && frames[key].length) {\n          frames[key].sort((a, b) => a.getStartPos() - b.getStartPos())\n          if (scrollPos + Util.displayHeight() < frames[key][0].getStartPos()) {\n            frames[key] = [frames[key][0]];\n          } else {\n            frames[key].sort((a, b) => {\n              if (a.getEndPos() > b.getEndPos()) {\n                return -1;\n              } else if (a.getEndPos() > b.getEndPos()) {\n                return 0\n              }\n              return 1;\n            });\n            if (scrollPos > frames[key][0].getEndPos()) {\n              frames[key] = [frames[key][0]];\n            }\n          }\n        } else {\n          visible.sort((a, b) => a.getStartPos() - b.getStartPos());\n          frames[key] = [visible[visible.length - 1]];\n        }\n      }\n    }\n\n    if (this.element) {\n      for (const key of Object.keys(frames)) {\n        if (frames[key]?.length) {\n          frames[key][0].motion.make(scrollPos, frames[key][0], this.element, scene);\n        }\n      }\n    }\n  }\n\n  addFrame(frame: TimeFrame) {\n    this.frames.push(frame);\n  }\n\n  addFrames(frames: TimeFrame[]) {\n    this.frames = this.frames.concat(frames);\n  }\n\n  initElement() {\n    this.initStartPosition();\n    this.element = this.bindElement();\n    this.afterBindElement();\n  }\n\n}\n","import { Actor } from './actor.model';\nimport { Coord } from '../coord.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { MoveMotion } from '../motions/move.motion';\nimport { Dimensions } from '../dimensions';\nimport { SizeMotion } from '../motions/size.motion';\nimport { OpacityMotion } from '../motions/opacity.motion';\nimport { Value } from '../value.model';\n\nexport abstract class InitiableActor extends Actor {\n\n  findFirstFrame(motionName: string): TimeFrame | undefined {\n    return  this.frames.reduce(\n      (acc: TimeFrame | undefined, frame: TimeFrame) => {\n        if (frame.motion.name === motionName) {\n          if (acc) {\n            if (frame.getStartPos() < acc?.getStartPos()) {\n              return frame;\n            } else  {\n              return acc;\n            }\n          } else {\n            return frame;\n          }\n        } else {\n          if (acc) {\n            return acc;\n          }\n          return undefined;\n        }\n      },\n      undefined\n    );\n  }\n\n  calcStartPosition(): Coord {\n    const firstFrame = this.findFirstFrame('MoveMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as MoveMotion;\n      return { X: motion.startX, Y: motion.startY };\n    } else {\n      throw new SyntaxError('First \"MoveMotion\" frame wasn\\'t found');\n    }\n  }\n\n  calcStartSize(): Dimensions {\n    const firstFrame = this.findFirstFrame('SizeMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as SizeMotion;\n      return { width: motion.startWidth, height: motion.startHeight };\n    } else {\n      throw new SyntaxError('First \"SizeMotion\" frame wasn\\'t found');\n    }\n  }\n\n  calcStartOpacity(): Value {\n    const firstFrame = this.findFirstFrame('OpacityMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as OpacityMotion;\n      return motion.start;\n    } else {\n      throw new SyntaxError('First \"OpacityMotion\" frame wasn\\'t found');\n    }\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { InitiableActor } from './initiable.actor';\nimport { Util } from '../../util';\n\nexport interface StaticActorOptions {\n  initPosition?: boolean;\n  initSize?: boolean;\n  initOpacity?: boolean;\n}\n\nexport class StaticActor extends InitiableActor {\n\n  constructor(\n    public override element: HTMLElement | undefined,\n    public options?: StaticActorOptions,\n  ) {\n    super();\n    this.options = {\n      initPosition: true,\n      initSize: true,\n      initOpacity: true,\n      ...this.options,\n    };\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    if (this.element) {\n      if (this.options.initPosition) {\n        const startCoord = this.calcStartPosition();\n        this.element.style.left = `${startCoord.X(Util.displayWidth(), Util.displayHeight())}px`;\n        this.element.style.top = `${startCoord.Y(Util.displayWidth(), Util.displayHeight())}px`;\n      }\n      if (this.options.initSize) {\n        const startDimensions = this.calcStartSize();\n        this.element.style.width = `${startDimensions.width(Util.displayWidth(), Util.displayHeight())}px`;\n        this.element.style.height = `${startDimensions.height(Util.displayWidth(), Util.displayHeight())}px`;\n      }\n      if (this.options.initOpacity) {\n        const startOpacity = this.calcStartOpacity();\n        this.element.style.opacity = `${startOpacity(Util.displayWidth(), Util.displayHeight())}`;\n      }\n    }\n    return this.element;\n  }\n\n}\n","import { InitiableActor } from './initiable.actor';\n\nexport class RefActor extends InitiableActor {\n\n  constructor(\n    public override element: HTMLElement | undefined,\n  ) {\n    super();\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { TimeFrame } from '../time-frame.model';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport abstract class Motion {\n\n  abstract name: string;\n\n  abstract make(\n      scrollPosForFrame: number,\n      frame: TimeFrame,\n      element: HTMLElement,\n      scene: SceneModel<any>,\n  ): void;\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport interface IMoveMotion {\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n}\n\nexport class MoveMotion extends Motion {\n\n  override name = 'MoveMotion';\n\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n\n  constructor(data: IMoveMotion) {\n    super();\n\n    this.startX = data.startX;\n    this.endX = data.endX;\n    this.startY = data.startY;\n    this.endY = data.endY;\n  }\n\n  renderX(scrollPos: number, frame: TimeFrame, element: HTMLElement): number {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.left = `${this.startX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.left = `${this.endX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endX(Util.displayWidth(), Util.displayHeight()) - this.startX(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const x = this.startX(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.left = `${x}px`;\n    }\n  }\n\n  renderY(scrollPos: number, frame: TimeFrame, element: HTMLElement, scene: SceneModel<any>): number {\n    if (element) {\n      if (scene.name === 'StickyPlatformScene') {\n        if (scrollPos < frame.getStartPos()) {\n          element.style.top = `${this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n        if (scrollPos > frame.getEndPos()) {\n          element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n      } else if (scene.name === 'FixedActorsScene') {\n        if (scrollPos < frame.getStartPos()) {\n          element.style.top = `${-scrollPos + this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n        if (scrollPos > frame.getEndPos()) {\n          element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight()) - (scrollPos - frame.getEndPos())}px`;\n          return;\n        }\n      }\n\n      const motionL = this.endY(Util.displayWidth(), Util.displayHeight()) - this.startY(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const y = Math.round(this.startY(Util.displayWidth(), Util.displayHeight()) + d * (frame.getStartPos() + scrollPos));\n\n      element.style.top = `${y}px`;\n    }\n  }\n\n  make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement, scene: SceneModel<any>) {\n    this.renderX(scrollPosForFrame, frame, element);\n    this.renderY(scrollPosForFrame, frame, element, scene);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport interface ISizeMotion {\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n}\n\nexport class SizeMotion extends Motion {\n\n  override name = 'SizeMotion';\n\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n\n  constructor(data: ISizeMotion) {\n    super();\n\n    this.startWidth = data.startWidth;\n    this.endWidth = data.endWidth;\n    this.startHeight = data.startHeight;\n    this.endHeight = data.endHeight;\n  }\n\n  renderWidth(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.width = `${this.startWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.width = `${this.endWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endWidth(Util.displayWidth(), Util.displayHeight()) - this.startWidth(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const width = this.startWidth(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.width = `${width}px`;\n    }\n  }\n\n  renderHeight(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.height = `${this.startHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.height = `${this.endHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endHeight(Util.displayWidth(), Util.displayHeight()) - this.startHeight(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const height = this.startHeight(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.height = `${height}px`;\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n    this.renderWidth(scrollPosForFrame, frame, element);\n    this.renderHeight(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport interface IOpacityMotion {\n  start: Value;\n  end: Value;\n}\n\nexport class OpacityMotion extends Motion {\n\n  override name = 'OpacityMotion';\n\n  start: Value;\n  end: Value;\n\n  constructor(data: IOpacityMotion) {\n    super();\n\n    this.start = data.start;\n    this.end = data.end;\n  }\n\n  renderOpacity(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.opacity = this.start(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.opacity = this.end(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n\n      const motionL = this.end(Util.displayWidth(), Util.displayHeight()) - this.start(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const opacity = this.start(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.opacity = opacity.toString();\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n    this.renderOpacity(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport declare type BoundValue = (deviceWidth: number, deviceHeight: number) => Partial<CSSStyleDeclaration>;\n\nexport interface IBoundMotion {\n    before: BoundValue;\n    after: BoundValue;\n}\n\nexport class BoundMotion extends Motion {\n\n    override name = 'BoundMotion';\n\n    before: BoundValue;\n    after: BoundValue;\n\n    constructor(data: IBoundMotion) {\n        super();\n\n        this.before = data.before;\n        this.after = data.after;\n    }\n\n    applyProperties(element: HTMLElement, properties: Partial<CSSStyleDeclaration>) {\n        for (const property of Object.keys(properties)) {\n            element.style[property] = properties[property];\n        }\n    }\n\n    override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n        if (element) {\n            if (scrollPosForFrame < frame.getStartPos()) {\n                this.applyProperties(element, this.before(Util.displayWidth(), Util.displayHeight()));\n            } else {\n                this.applyProperties(element, this.after(Util.displayWidth(), Util.displayHeight()));\n            }\n        }\n    }\n\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","displayWidth","document","documentElement","clientWidth","displayHeight","clientHeight","scene","ticking","this","saveDisplaySize","init","tick","Util","isNeedResize","window","requestAnimationFrame","render","elementY","pos","scrollPos","offset","scroll","resize","resizeHeight","scrollListener","bind","addEventListener","resizeListener","stop","removeEventListener","list","container","options","handleScrollReset","scrollY","scrollTop","exclude","e","excludeIds","length","elementsFromPoint","clientX","clientY","find","element","includes","id","handleMouseWheel","preventDefault","delta","deltaY","limitY","Math","abs","scrollHeight","scrollTo","mouseupListener","mousedownListener","mousewheelListener","passive","el","height","_list","setDefaults","defaults","getBoundingClientRect","y","add","actor","push","name","stickyPlatformHeight","deviceWidth","deviceHeight","style","resizePlatform","platform","position","overflow","createElement","top","left","width","appendChild","parentElement","initElement","SceneModel","motion","start","end","undefined","getStartPos","getEndPos","SyntaxError","frames","initStartPosition","afterBindElement","groupFramesByMotion","reduce","acc","frame","motionName","keys","visible","filter","sort","a","b","make","addFrame","addFrames","concat","bindElement","findFirstFrame","calcStartPosition","firstFrame","X","startX","Y","startY","calcStartSize","startWidth","startHeight","calcStartOpacity","Actor","initPosition","initSize","initOpacity","startCoord","startDimensions","startOpacity","opacity","InitiableActor","data","endX","endY","renderX","d","x","renderY","round","scrollPosForFrame","Motion","endWidth","endHeight","renderWidth","renderHeight","renderOpacity","toString","before","after","applyProperties","properties","property"],"sourceRoot":""}