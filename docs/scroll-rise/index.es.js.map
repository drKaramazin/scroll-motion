{"version":3,"file":"index.es.js","mappings":"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","sources":["webpack://scroll-rise/webpack/bootstrap","webpack://scroll-rise/webpack/runtime/define property getters","webpack://scroll-rise/webpack/runtime/hasOwnProperty shorthand","webpack://scroll-rise/./src/util.ts","webpack://scroll-rise/./src/scroll-rise.ts","webpack://scroll-rise/./src/scroll-rise-speed.ts","webpack://scroll-rise/./src/models/scenes/scene.model.ts","webpack://scroll-rise/./src/models/scenes/sticky-platform.scene.ts","webpack://scroll-rise/./src/models/scenes/fixed-actors.scene.ts","webpack://scroll-rise/./src/models/time-frame.model.ts","webpack://scroll-rise/./src/models/actors/actor.model.ts","webpack://scroll-rise/./src/models/actors/initiable.actor.ts","webpack://scroll-rise/./src/models/actors/static.actor.ts","webpack://scroll-rise/./src/models/actors/ref.actor.ts","webpack://scroll-rise/./src/models/motions/motion.model.ts","webpack://scroll-rise/./src/models/motions/move.motion.ts","webpack://scroll-rise/./src/models/motions/size.motion.ts","webpack://scroll-rise/./src/models/motions/opacity.motion.ts","webpack://scroll-rise/./src/models/motions/bound.motion.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export class Util {\n\n  static displayWidth(): number {\n    return document.documentElement.clientWidth;\n  }\n\n  static displayHeight(): number {\n    return document.documentElement.clientHeight;\n  }\n\n  static castToInt(num: number): number {\n    return Math.trunc(num);\n  }\n\n}\n","import { Util } from './util';\nimport { SceneModel, SceneOptions } from './models/scenes/scene.model';\n\nexport class ScrollRise {\n\n  private initialized = false;\n  private ticking = false;\n  private scrollListener: (() => void) | undefined;\n  private resizeListener: (() => void) | undefined;\n\n  private displayWidth: number;\n  private displayHeight: number;\n\n  constructor(\n    public scene: SceneModel<SceneOptions>,\n  ) {\n    this.saveDisplaySize();\n    this.init();\n    this.tick();\n  }\n\n  saveDisplaySize() {\n    this.displayWidth = Util.displayWidth();\n    this.displayHeight = Util.displayHeight();\n  }\n\n  isNeedResize(): boolean {\n    return true;\n  }\n\n  tick() {\n    if (!this.ticking) {\n      window?.requestAnimationFrame(() => {\n        this.render(this.scene.elementY());\n        this.ticking = false;\n      });\n\n      this.ticking = true;\n    }\n  }\n\n  pos(scrollPos: number): number {\n    return -(scrollPos + this.scene.offset());\n  }\n\n  scroll() {\n    this.tick();\n  }\n\n  resize() {\n    if (this.isNeedResize()) {\n      this.scene.resizeHeight();\n      this.tick();\n    }\n  }\n\n  private init() {\n    if (!this.initialized) {\n      this.initialized = true;\n      this.scrollListener = this.scroll.bind(this);\n      window?.addEventListener('scroll', this.scrollListener);\n      this.resizeListener = this.resize.bind(this);\n      window?.addEventListener('resize', this.resizeListener);\n      this.tick();\n    } else {\n      throw new Error('Scroll-Rise has already been initialized');\n    }\n  }\n\n  stop() {\n    if (this.initialized) {\n      this.initialized = false;\n      if (this.scrollListener) {\n        window?.removeEventListener('scroll', this.scrollListener);\n      }\n      if (this.resizeListener) {\n        window?.removeEventListener('resize', this.resizeListener);\n      }\n    } else {\n      throw new Error('Scroll-Rise hasn\\'t yet been initialized');\n    }\n  }\n\n  render(scrollPos: number) {\n    for (const actor of this.scene.actors) {\n      actor.render(this.pos(scrollPos), this.scene);\n    }\n  }\n\n}\n","export class ScrollRiseSpeed {\n\n  private mouseupListener: (() => void) | undefined;\n  private mousedownListener: (() => void) | undefined;\n  private mousewheelListener: ((e: any) => void) | undefined;\n\n  constructor(\n    public container: HTMLElement,\n    protected options?: {\n      deltaY?: number,\n      limitY?: number,\n      excludeIds?: string[],\n    }\n  ) {}\n\n  handleScrollReset() {\n    scrollY = this.container.scrollTop;\n  }\n\n  exclude(e: any): any {\n    if (this.options?.excludeIds?.length) {\n      return document.elementsFromPoint(e.clientX, e.clientY).find(element => this.options?.excludeIds?.includes(element.id));\n    }\n  }\n\n  handleMouseWheel(e: any) {\n    if (!this.exclude(e)) {\n      e.preventDefault();\n      let delta = e.deltaY;\n      delta = this.options?.deltaY ? delta * this.options.deltaY : delta;\n      if (this.options?.limitY && Math.abs(delta) > this.options.limitY) {\n        delta = delta > 0 ? this.options.limitY : -this.options.limitY;\n      }\n      scrollY += delta;\n      if (scrollY > 0) {\n        var limitY = this.container.scrollHeight - this.container.clientHeight;\n        if (scrollY > limitY) {\n          scrollY = limitY;\n        }\n      } else {\n        scrollY = 0;\n      }\n      window?.scrollTo(0, scrollY);\n    }\n  }\n\n  init() {\n    this.mouseupListener = this.handleScrollReset.bind(this);\n    this.mousedownListener = this.handleScrollReset.bind(this);\n    this.mousewheelListener = this.handleMouseWheel.bind(this);\n    this.container.addEventListener('mouseup', this.mouseupListener, false);\n    this.container.addEventListener('mousedown', this.mousedownListener, false);\n    this.container.addEventListener('mousewheel', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('DOMMouseScroll', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('wheel', this.mousewheelListener, {\n      passive: false,\n    });\n  }\n\n  stop() {\n    if (this.mouseupListener) {\n      this.container.removeEventListener('mouseup', this.mouseupListener);\n    }\n    if (this.mousedownListener) {\n      this.container.removeEventListener('mousedown', this.mousedownListener);\n    }\n    if (this.mousewheelListener) {\n      this.container.removeEventListener('mousewheel', this.mousewheelListener);\n      this.container.removeEventListener('DOMMouseScroll', this.mousewheelListener);\n      this.container.removeEventListener('wheel', this.mousewheelListener);\n    }\n  }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\n\nexport interface SceneOptions {\n    offset?: (deviceWidth: number, deviceHeight: number, sceneHeight: number) => number;\n}\n\nexport abstract class SceneModel<Options extends SceneOptions> {\n\n    protected _actors: Actor[] = [];\n    public abstract name: string;\n\n    protected abstract init(): void;\n    public abstract resizeHeight(): void;\n\n    constructor(\n        protected el: HTMLElement,\n        protected height: (deviceWidth: number, deviceHeight: number) => number,\n        protected options?: Options,\n    ) {\n        this.setDefaults();\n        this.init();\n    }\n\n    protected setDefaults() {\n        this.options = {\n            ...this.defaults(),\n            ...this.options,\n        };\n    }\n\n    defaults(): SceneOptions {\n        return {\n            offset: () => 0,\n        };\n    }\n\n    offset(): number {\n        return this.options.offset(\n            Util.displayWidth(),\n            Util.displayHeight(),\n            this.height(Util.displayWidth(), Util.displayHeight()),\n        );\n    }\n\n    elementY(): number {\n        return this.el.getBoundingClientRect().y;\n    }\n\n    add(actor: Actor) {\n        this._actors.push(actor);\n    }\n\n    get actors(): Actor[] {\n        return this._actors;\n    }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\nimport { SceneModel, SceneOptions } from './scene.model';\n\nexport interface StickyPlatformSceneOptions extends SceneOptions {\n  stickyPlatformHeight?: (deviceWidth: number, deviceHeight: number) => number;\n}\n\nexport class StickyPlatformScene extends SceneModel<StickyPlatformSceneOptions> {\n\n  public override name = 'StickyPlatformScene';\n\n  public platform: HTMLElement;\n\n  override defaults(): StickyPlatformSceneOptions {\n    return {\n      ...super.defaults(),\n      stickyPlatformHeight: (deviceWidth: number, deviceHeight: number) => deviceHeight,\n    };\n  }\n\n  override resizeHeight() {\n    this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n    this.resizePlatform();\n  }\n\n  resizePlatform() {\n    this.platform.style.height = `${this.options.stickyPlatformHeight(Util.displayWidth(), Util.displayHeight())}px`;\n  }\n\n  protected override init() {\n    this.el.style.position = 'relative';\n    this.el.style.overflow = 'visible';\n\n    this.platform = document.createElement('div');\n    this.platform.style.position = 'sticky';\n    this.platform.style.top = `0`;\n    this.platform.style.left = '0';\n    this.platform.style.width = '100%';\n    this.resizeHeight();\n\n    this.el.appendChild(this.platform);\n  }\n\n  override add(actor: Actor) {\n    super.add(actor);\n    if (this.el === actor.element.parentElement) {\n      this.platform.appendChild(actor.element);\n      actor.element.style.position = 'absolute';\n    }\n    actor.initElement(this.elementY(), this);\n  }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\nimport { SceneModel, SceneOptions } from './scene.model';\n\nexport class FixedActorsScene extends SceneModel<SceneOptions> {\n\n    public override name = 'FixedActorsScene';\n\n    override resizeHeight() {\n        this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n    }\n\n    protected override init() {\n        this.resizeHeight();\n    }\n\n    override add(actor: Actor) {\n        super.add(actor);\n        actor.element.style.position = 'fixed';\n        actor.initElement(this.elementY(), this);\n    }\n\n}\n","import { Motion } from './motions/motion.model';\nimport { Util } from '../util';\n\nexport class TimeFrame {\n\n  constructor(\n    public motion: Motion,\n    public start: (deviceWidth: number, deviceHeight: number) => number,\n    public end: (deviceWidth: number, deviceHeight: number) => number = start,\n  ) {\n    if (end === undefined) {\n      this.end = start;\n    } else  {\n      if (this.getStartPos() > this.getEndPos()) {\n        throw new SyntaxError('\"Start\" later than \"End\" in the frame');\n      }\n    }\n  }\n\n  getStartPos(): number {\n    return this.start(Util.displayWidth(), Util.displayHeight());\n  }\n\n  getEndPos(): number {\n    return this.end(Util.displayWidth(), Util.displayHeight());\n  }\n\n  length(): number {\n    return this.getEndPos() - this.getStartPos();\n  }\n\n}\n","import { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport abstract class Actor {\n\n  public element: HTMLElement | undefined;\n  abstract bindElement(scrollPosOnFrame: number, scene: SceneModel<any>): HTMLElement | undefined;\n\n  protected frames: TimeFrame[] = [];\n\n  abstract findFirstMoveMotionFrame(): TimeFrame;\n\n  afterBindElement() {}\n\n  beforeRender: () => void | undefined;\n  afterRender: () => void | undefined;\n\n  private groupFramesByMotion(frames: TimeFrame[]): { [key: string]: TimeFrame[] } {\n    return frames.reduce(\n      (acc: any, frame) => {\n        const motionName = frame.motion.name;\n        acc[motionName] = acc[motionName] ? [...acc[motionName], frame] : [frame];\n\n        return acc;\n      },\n      {}\n    );\n  }\n\n  render(scrollPos: number, scene: SceneModel<any>) {\n    if (this.beforeRender) {\n      this.beforeRender();\n    }\n\n    const frames = this.groupFramesByMotion(this.frames);\n\n    for (const key of Object.keys(frames)) {\n      if (frames[key].length > 1) {\n        const visible = frames[key].filter(\n          frame =>\n            scrollPos < frame.getStartPos() && scrollPos + Util.displayHeight() >= frame.getStartPos() ||\n            scrollPos >= frame.getStartPos() && scrollPos + Util.displayHeight() <= frame.getEndPos() ||\n            scrollPos >= frame.getStartPos() && scrollPos <= frame.getEndPos()\n        );\n\n        if (visible.length === 1) {\n          frames[key] = visible;\n        } else if (visible.length === 0 && frames[key].length) {\n          frames[key].sort((a, b) => a.getStartPos() - b.getStartPos())\n          if (scrollPos + Util.displayHeight() < frames[key][0].getStartPos()) {\n            frames[key] = [frames[key][0]];\n          } else {\n            frames[key].sort((a, b) => {\n              if (a.getEndPos() > b.getEndPos()) {\n                return -1;\n              } else if (a.getEndPos() > b.getEndPos()) {\n                return 0\n              }\n              return 1;\n            });\n            if (scrollPos > frames[key][0].getEndPos()) {\n              frames[key] = [frames[key][0]];\n            }\n          }\n        } else {\n          visible.sort((a, b) => a.getStartPos() - b.getStartPos());\n          frames[key] = [visible[visible.length - 1]];\n        }\n      }\n    }\n\n    if (this.element) {\n      for (const key of Object.keys(frames)) {\n        if (frames[key]?.length) {\n          frames[key][0].motion.make(scrollPos, frames[key][0], this.element, scene);\n        }\n      }\n    }\n\n    if (this.afterRender) {\n      this.afterRender();\n    }\n  }\n\n  addFrame(frame: TimeFrame) {\n    this.frames.push(frame);\n  }\n\n  addFrames(frames: TimeFrame[]) {\n    this.frames = this.frames.concat(frames);\n  }\n\n  initElement(scrollPosOnFrame: number, scene: SceneModel<any>) {\n    this.element = this.bindElement(scrollPosOnFrame, scene);\n    this.afterBindElement();\n  }\n\n}\n","import { Actor } from './actor.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { MoveMotion } from '../motions/move.motion';\nimport { Dimensions } from '../dimensions';\nimport { SizeMotion } from '../motions/size.motion';\nimport { OpacityMotion } from '../motions/opacity.motion';\nimport { Value } from '../value.model';\nimport { SceneModel } from \"../scenes/scene.model\";\n\nexport abstract class InitiableActor extends Actor {\n\n  findFirstFrame(motionName: string): TimeFrame | undefined {\n    return  this.frames.reduce(\n      (acc: TimeFrame | undefined, frame: TimeFrame) => {\n        if (frame.motion.name === motionName) {\n          if (acc) {\n            if (frame.getStartPos() < acc?.getStartPos()) {\n              return frame;\n            } else  {\n              return acc;\n            }\n          } else {\n            return frame;\n          }\n        } else {\n          if (acc) {\n            return acc;\n          }\n          return undefined;\n        }\n      },\n      undefined\n    );\n  }\n\n  findFirstMoveMotionFrame(): TimeFrame {\n    const firstFrame = this.findFirstFrame('MoveMotion');\n\n    if (firstFrame) {\n      return firstFrame;\n    } else {\n      throw new Error('First \"MoveMotion\" frame wasn\\'t found');\n    }\n  }\n\n  calcStartSize(): Dimensions {\n    const firstFrame = this.findFirstFrame('SizeMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as SizeMotion;\n      return { width: motion.startWidth, height: motion.startHeight };\n    } else {\n      throw new Error('First \"SizeMotion\" frame wasn\\'t found');\n    }\n  }\n\n  calcStartOpacity(): Value {\n    const firstFrame = this.findFirstFrame('OpacityMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as OpacityMotion;\n      return motion.start;\n    } else {\n      throw new Error('First \"OpacityMotion\" frame wasn\\'t found');\n    }\n  }\n\n  override bindElement(scrollPosOnFrame: number, scene: SceneModel<any>): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { InitiableActor } from './initiable.actor';\nimport { Util } from '../../util';\nimport { MoveMotion } from '../motions/move.motion';\nimport { SceneModel } from \"../scenes/scene.model\";\n\nexport interface StaticActorOptions {\n  initPosition?: boolean;\n  initSize?: boolean;\n  initOpacity?: boolean;\n}\n\nexport class StaticActor extends InitiableActor {\n\n  constructor(\n    public override element: HTMLElement | undefined,\n    public options?: StaticActorOptions,\n  ) {\n    super();\n    this.options = {\n      initPosition: true,\n      initSize: true,\n      initOpacity: true,\n      ...this.options,\n    };\n  }\n\n  override bindElement(scrollPosOnFrame: number, scene: SceneModel<any>): HTMLElement | undefined {\n    if (this.element) {\n      if (this.options.initPosition) {\n        const timeFrame = this.findFirstMoveMotionFrame();\n        (timeFrame.motion as MoveMotion).make(scrollPosOnFrame, timeFrame, this.element, scene);\n      }\n      if (this.options.initSize) {\n        const startDimensions = this.calcStartSize();\n        this.element.style.width = `${startDimensions.width(Util.displayWidth(), Util.displayHeight())}px`;\n        this.element.style.height = `${startDimensions.height(Util.displayWidth(), Util.displayHeight())}px`;\n      }\n      if (this.options.initOpacity) {\n        const startOpacity = this.calcStartOpacity();\n        this.element.style.opacity = `${startOpacity(Util.displayWidth(), Util.displayHeight())}`;\n      }\n    }\n    return this.element;\n  }\n\n}\n","import { InitiableActor } from './initiable.actor';\n\nexport class RefActor extends InitiableActor {\n\n  constructor(\n    public override element: HTMLElement | undefined,\n  ) {\n    super();\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { TimeFrame } from '../time-frame.model';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport abstract class Motion {\n\n  abstract name: string;\n\n  abstract make(\n      scrollPosForFrame: number,\n      frame: TimeFrame,\n      element: HTMLElement,\n      scene: SceneModel<any>,\n  ): void;\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport interface IMoveMotion {\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n}\n\nexport class MoveMotion extends Motion {\n\n  override name = 'MoveMotion';\n\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n\n  constructor(data: IMoveMotion) {\n    super();\n\n    this.startX = data.startX;\n    this.endX = data.endX;\n    this.startY = data.startY;\n    this.endY = data.endY;\n  }\n\n  renderX(scrollPos: number, frame: TimeFrame, element: HTMLElement): number {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.left = `${this.startX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.left = `${this.endX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endX(Util.displayWidth(), Util.displayHeight()) - this.startX(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const x = Util.castToInt(this.startX(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos()));\n\n      element.style.left = `${x}px`;\n    }\n  }\n\n  renderY(scrollPos: number, frame: TimeFrame, element: HTMLElement, scene: SceneModel<any>): number {\n    if (element) {\n      if (scene.name === 'StickyPlatformScene') {\n        if (scrollPos < frame.getStartPos()) {\n          element.style.top = `${this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n        if (scrollPos > frame.getEndPos()) {\n          element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n      } else if (scene.name === 'FixedActorsScene') {\n        if (scrollPos < frame.getStartPos()) {\n          element.style.top = `${scene.elementY() + this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n        if (scrollPos > frame.getEndPos()) {\n          element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight()) - (scrollPos - frame.getEndPos())}px`;\n          return;\n        }\n      }\n\n      const motionL = this.endY(Util.displayWidth(), Util.displayHeight()) - this.startY(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const y = Util.castToInt(this.startY(Util.displayWidth(), Util.displayHeight()) + d * (frame.getStartPos() + scrollPos));\n\n      element.style.top = `${y}px`;\n    }\n  }\n\n  make(scrollPosOnFrame: number, frame: TimeFrame, element: HTMLElement, scene: SceneModel<any>) {\n    this.renderX(scrollPosOnFrame, frame, element);\n    this.renderY(scrollPosOnFrame, frame, element, scene);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport interface ISizeMotion {\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n}\n\nexport class SizeMotion extends Motion {\n\n  override name = 'SizeMotion';\n\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n\n  constructor(data: ISizeMotion) {\n    super();\n\n    this.startWidth = data.startWidth;\n    this.endWidth = data.endWidth;\n    this.startHeight = data.startHeight;\n    this.endHeight = data.endHeight;\n  }\n\n  renderWidth(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.width = `${this.startWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.width = `${this.endWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endWidth(Util.displayWidth(), Util.displayHeight()) - this.startWidth(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const width = this.startWidth(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.width = `${width}px`;\n    }\n  }\n\n  renderHeight(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.height = `${this.startHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.height = `${this.endHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endHeight(Util.displayWidth(), Util.displayHeight()) - this.startHeight(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const height = this.startHeight(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.height = `${height}px`;\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n    this.renderWidth(scrollPosForFrame, frame, element);\n    this.renderHeight(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport interface IOpacityMotion {\n  start: Value;\n  end: Value;\n}\n\nexport class OpacityMotion extends Motion {\n\n  override name = 'OpacityMotion';\n\n  start: Value;\n  end: Value;\n\n  constructor(data: IOpacityMotion) {\n    super();\n\n    this.start = data.start;\n    this.end = data.end;\n  }\n\n  renderOpacity(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.opacity = this.start(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.opacity = this.end(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n\n      const motionL = this.end(Util.displayWidth(), Util.displayHeight()) - this.start(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const opacity = this.start(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.opacity = opacity.toString();\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n    this.renderOpacity(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport declare type BoundValue = (deviceWidth: number, deviceHeight: number) => Partial<CSSStyleDeclaration>;\n\nexport interface IBoundMotion {\n    before: BoundValue;\n    after: BoundValue;\n}\n\nexport class BoundMotion extends Motion {\n\n    override name = 'BoundMotion';\n\n    before: BoundValue;\n    after: BoundValue;\n\n    constructor(data: IBoundMotion) {\n        super();\n\n        this.before = data.before;\n        this.after = data.after;\n    }\n\n    applyProperties(element: HTMLElement, properties: Partial<CSSStyleDeclaration>) {\n        for (const property of Object.keys(properties)) {\n            element.style[property] = properties[property];\n        }\n    }\n\n    override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n        if (element) {\n            if (scrollPosForFrame < frame.getStartPos()) {\n                this.applyProperties(element, this.before(Util.displayWidth(), Util.displayHeight()));\n            } else {\n                this.applyProperties(element, this.after(Util.displayWidth(), Util.displayHeight()));\n            }\n        }\n    }\n\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","displayWidth","document","documentElement","clientWidth","displayHeight","clientHeight","castToInt","num","Math","trunc","scene","initialized","ticking","this","saveDisplaySize","init","tick","Util","isNeedResize","window","requestAnimationFrame","render","elementY","pos","scrollPos","offset","scroll","resize","resizeHeight","Error","scrollListener","bind","addEventListener","resizeListener","stop","removeEventListener","actors","container","options","handleScrollReset","scrollY","scrollTop","exclude","e","excludeIds","length","elementsFromPoint","clientX","clientY","find","element","includes","id","handleMouseWheel","preventDefault","delta","deltaY","limitY","abs","scrollHeight","scrollTo","mouseupListener","mousedownListener","mousewheelListener","passive","el","height","_actors","setDefaults","defaults","getBoundingClientRect","y","add","actor","push","name","stickyPlatformHeight","deviceWidth","deviceHeight","style","resizePlatform","platform","position","overflow","createElement","top","left","width","appendChild","parentElement","initElement","SceneModel","motion","start","end","undefined","getStartPos","getEndPos","SyntaxError","frames","afterBindElement","groupFramesByMotion","reduce","acc","frame","motionName","beforeRender","keys","visible","filter","sort","a","b","make","afterRender","addFrame","addFrames","concat","scrollPosOnFrame","bindElement","findFirstFrame","findFirstMoveMotionFrame","firstFrame","calcStartSize","startWidth","startHeight","calcStartOpacity","Actor","initPosition","initSize","initOpacity","timeFrame","startDimensions","startOpacity","opacity","InitiableActor","data","startX","endX","startY","endY","renderX","d","x","renderY","Motion","endWidth","endHeight","renderWidth","renderHeight","scrollPosForFrame","renderOpacity","toString","before","after","applyProperties","properties","property"],"sourceRoot":""}