{"version":3,"file":"index.es.js","mappings":"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","sources":["webpack://scroll-rise/webpack/bootstrap","webpack://scroll-rise/webpack/runtime/define property getters","webpack://scroll-rise/webpack/runtime/hasOwnProperty shorthand","webpack://scroll-rise/./src/util.ts","webpack://scroll-rise/./src/scroll-rise.ts","webpack://scroll-rise/./src/scroll-rise-speed.ts","webpack://scroll-rise/./src/models/scenes/scene.model.ts","webpack://scroll-rise/./src/models/scenes/sticky-platform.scene.ts","webpack://scroll-rise/./src/models/scenes/fixed-actors.scene.ts","webpack://scroll-rise/./src/models/time-frame.model.ts","webpack://scroll-rise/./src/models/actors/actor.model.ts","webpack://scroll-rise/./src/models/actors/initiable.actor.ts","webpack://scroll-rise/./src/models/actors/static.actor.ts","webpack://scroll-rise/./src/models/actors/ref.actor.ts","webpack://scroll-rise/./src/models/motions/motion.model.ts","webpack://scroll-rise/./src/models/motions/move.motion.ts","webpack://scroll-rise/./src/models/motions/size.motion.ts","webpack://scroll-rise/./src/models/motions/opacity.motion.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export class Util {\n\n  static displayWidth(): number {\n    return document.documentElement.clientWidth;\n  }\n\n  static displayHeight(): number {\n    return document.documentElement.clientHeight;\n  }\n\n  static castToInt(num: number): number {\n    return Math.trunc(num);\n  }\n\n}\n","import { Util } from './util';\nimport { SceneModel, SceneOptions } from './models/scenes/scene.model';\n\nexport class ScrollRise {\n\n  private inited = false;\n  private ticking = false;\n  private scrollListener: (() => void) | undefined;\n  private resizeListener: (() => void) | undefined;\n\n  private displayWidth: number;\n  private displayHeight: number;\n\n  constructor(\n    public scene: SceneModel<SceneOptions>,\n  ) {\n    this.saveDisplaySize();\n    this.init();\n    this.tick();\n  }\n\n  saveDisplaySize() {\n    this.displayWidth = Util.displayWidth();\n    this.displayHeight = Util.displayHeight();\n  }\n\n  isNeedResize(): boolean {\n    return true;\n  }\n\n  tick() {\n    if (!this.ticking) {\n      window?.requestAnimationFrame(() => {\n        this.render(this.scene.elementY());\n        this.ticking = false;\n      });\n\n      this.ticking = true;\n    }\n  }\n\n  pos(scrollPos: number): number {\n    return scrollPos + this.scene.offset();\n  }\n\n  scroll() {\n    this.tick();\n  }\n\n  resize() {\n    if (this.isNeedResize()) {\n      this.scene.resizeHeight();\n      this.tick();\n    }\n  }\n\n  private init() {\n    if (!this.inited) {\n      this.inited = true;\n      this.scrollListener = this.scroll.bind(this);\n      window?.addEventListener('scroll', this.scrollListener);\n      this.resizeListener = this.resize.bind(this);\n      window?.addEventListener('resize', this.resizeListener);\n      this.tick();\n    } else {\n      throw new Error('Scroll-Rise has already been initialized');\n    }\n  }\n\n  stop() {\n    if (this.inited) {\n      this.inited = false;\n      if (this.scrollListener) {\n        window?.removeEventListener('scroll', this.scrollListener);\n      }\n      if (this.resizeListener) {\n        window?.removeEventListener('resize', this.resizeListener);\n      }\n    } else {\n      throw new Error('Scroll-Rise hasn\\'t yet been initialized');\n    }\n  }\n\n  render(scrollPos: number) {\n    for (const actor of this.scene.actors) {\n      actor.render(-this.pos(scrollPos), this.scene);\n    }\n  }\n\n}\n","export class ScrollRiseSpeed {\n\n  private mouseupListener: (() => void) | undefined;\n  private mousedownListener: (() => void) | undefined;\n  private mousewheelListener: ((e: any) => void) | undefined;\n\n  constructor(\n    public container: HTMLElement,\n    protected options?: {\n      deltaY?: number,\n      limitY?: number,\n      excludeIds?: string[],\n    }\n  ) {}\n\n  handleScrollReset() {\n    scrollY = this.container.scrollTop;\n  }\n\n  exclude(e: any): any {\n    if (this.options?.excludeIds?.length) {\n      return document.elementsFromPoint(e.clientX, e.clientY).find(element => this.options?.excludeIds?.includes(element.id));\n    }\n  }\n\n  handleMouseWheel(e: any) {\n    if (!this.exclude(e)) {\n      e.preventDefault();\n      let delta = e.deltaY;\n      delta = this.options?.deltaY ? delta * this.options.deltaY : delta;\n      if (this.options?.limitY && Math.abs(delta) > this.options.limitY) {\n        delta = delta > 0 ? this.options.limitY : -this.options.limitY;\n      }\n      scrollY += delta;\n      if (scrollY > 0) {\n        var limitY = this.container.scrollHeight - this.container.clientHeight;\n        if (scrollY > limitY) {\n          scrollY = limitY;\n        }\n      } else {\n        scrollY = 0;\n      }\n      window?.scrollTo(0, scrollY);\n    }\n  }\n\n  init() {\n    this.mouseupListener = this.handleScrollReset.bind(this);\n    this.mousedownListener = this.handleScrollReset.bind(this);\n    this.mousewheelListener = this.handleMouseWheel.bind(this);\n    this.container.addEventListener('mouseup', this.mouseupListener, false);\n    this.container.addEventListener('mousedown', this.mousedownListener, false);\n    this.container.addEventListener('mousewheel', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('DOMMouseScroll', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('wheel', this.mousewheelListener, {\n      passive: false,\n    });\n  }\n\n  stop() {\n    if (this.mouseupListener) {\n      this.container.removeEventListener('mouseup', this.mouseupListener);\n    }\n    if (this.mousedownListener) {\n      this.container.removeEventListener('mousedown', this.mousedownListener);\n    }\n    if (this.mousewheelListener) {\n      this.container.removeEventListener('mousewheel', this.mousewheelListener);\n      this.container.removeEventListener('DOMMouseScroll', this.mousewheelListener);\n      this.container.removeEventListener('wheel', this.mousewheelListener);\n    }\n  }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\n\nexport interface SceneOptions {\n    offset?: (deviceWidth: number, deviceHeight: number, sceneHeight: number) => number;\n}\n\nexport abstract class SceneModel<Options extends SceneOptions> {\n\n    protected _actors: Actor[] = [];\n    public abstract name: string;\n\n    protected abstract init(): void;\n    public abstract resizeHeight(): void;\n\n    constructor(\n        protected el: HTMLElement,\n        protected height: (deviceWidth: number, deviceHeight: number) => number,\n        protected options?: Options,\n    ) {\n        this.setDefaults();\n        this.init();\n    }\n\n    protected setDefaults() {\n        this.options = {\n            ...this.defaults(),\n            ...this.options,\n        };\n    }\n\n    defaults(): SceneOptions {\n        return {\n            offset: () => 0,\n        };\n    }\n\n    offset(): number {\n        return this.options.offset(\n            Util.displayWidth(),\n            Util.displayHeight(),\n            this.height(Util.displayWidth(), Util.displayHeight()),\n        );\n    }\n\n    elementY(): number {\n        return this.el.getBoundingClientRect().y;\n    }\n\n    add(actor: Actor) {\n        this._actors.push(actor);\n    }\n\n    get actors(): Actor[] {\n        return this._actors;\n    }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\nimport { SceneModel, SceneOptions } from './scene.model';\n\nexport interface StickyPlatformSceneOptions extends SceneOptions {\n  stickyPlatformHeight?: (deviceWidth: number, deviceHeight: number) => number;\n}\n\nexport class StickyPlatformScene extends SceneModel<StickyPlatformSceneOptions> {\n\n  public override name = 'StickyPlatformScene';\n\n  public platform: HTMLElement;\n\n  override defaults(): StickyPlatformSceneOptions {\n    return {\n      ...super.defaults(),\n      stickyPlatformHeight: (deviceWidth: number, deviceHeight: number) => deviceHeight,\n    };\n  }\n\n  override resizeHeight() {\n    this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n    this.resizePlatform();\n  }\n\n  resizePlatform() {\n    this.platform.style.height = `${this.options.stickyPlatformHeight(Util.displayWidth(), Util.displayHeight())}px`;\n  }\n\n  protected override init() {\n    this.el.style.position = 'relative';\n    this.el.style.overflow = 'visible';\n\n    this.platform = document.createElement('div');\n    this.platform.style.position = 'sticky';\n    this.platform.style.top = `0`;\n    this.platform.style.left = '0';\n    this.platform.style.width = '100%';\n    this.resizeHeight();\n\n    this.el.appendChild(this.platform);\n  }\n\n  override add(actor: Actor) {\n    super.add(actor);\n    if (this.el === actor.element.parentElement) {\n      this.platform.appendChild(actor.element);\n      actor.element.style.position = 'absolute';\n    }\n    actor.initElement();\n  }\n\n}\n","import { Actor } from '../actors/actor.model';\nimport { Util } from '../../util';\nimport { SceneModel, SceneOptions } from './scene.model';\n\nexport class FixedActorsScene extends SceneModel<SceneOptions> {\n\n    public override name = 'FixedActorsScene';\n\n    override resizeHeight() {\n        this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n    }\n\n    protected override init() {\n        this.resizeHeight();\n    }\n\n    override add(actor: Actor) {\n        super.add(actor);\n        actor.element.style.position = 'fixed';\n        actor.initElement();\n    }\n\n}\n","import { Motion } from './motions/motion.model';\nimport { Util } from '../util';\n\nexport class TimeFrame {\n\n  constructor(\n    public motion: Motion,\n    public start: (deviceWidth: number, deviceHeight: number) => number,\n    public end: (deviceWidth: number, deviceHeight: number) => number = start,\n  ) {\n    if (end === undefined) {\n      this.end = start;\n    } else  {\n      if (this.getStartPos() > this.getEndPos()) {\n        throw new SyntaxError('\"Start\" later than \"End\" in the frame');\n      }\n    }\n  }\n\n  getStartPos(): number {\n    return this.start(Util.displayWidth(), Util.displayHeight());\n  }\n\n  getEndPos(): number {\n    return this.end(Util.displayWidth(), Util.displayHeight());\n  }\n\n  length(): number {\n    return this.getEndPos() - this.getStartPos();\n  }\n\n}\n","import { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport abstract class Actor {\n\n  public element: HTMLElement | undefined;\n  abstract bindElement(): HTMLElement | undefined;\n\n  protected frames: TimeFrame[] = [];\n\n  abstract findFirstFrameByMoveMotion(): TimeFrame;\n\n  initStartPosition() {}\n  afterBindElement() {}\n\n  beforeRender: () => void | undefined;\n  afterRender: () => void | undefined;\n\n  private groupFramesByMotion(frames: TimeFrame[]): { [key: string]: TimeFrame[] } {\n    return frames.reduce(\n      (acc: any, frame) => {\n        const motionName = frame.motion.name;\n        acc[motionName] = acc[motionName] ? [...acc[motionName], frame] : [frame];\n\n        return acc;\n      },\n      {}\n    );\n  }\n\n  render(scrollPos: number, scene: SceneModel<any>) {\n    if (this.beforeRender) {\n      this.beforeRender();\n    }\n\n    const frames = this.groupFramesByMotion(this.frames);\n\n    for (const key of Object.keys(frames)) {\n      if (frames[key].length > 1) {\n        const visible = frames[key].filter(\n          frame =>\n            scrollPos < frame.getStartPos() && scrollPos + Util.displayHeight() >= frame.getStartPos() ||\n            scrollPos >= frame.getStartPos() && scrollPos + Util.displayHeight() <= frame.getEndPos() ||\n            scrollPos >= frame.getStartPos() && scrollPos <= frame.getEndPos()\n        );\n\n        if (visible.length === 1) {\n          frames[key] = visible;\n        } else if (visible.length === 0 && frames[key].length) {\n          frames[key].sort((a, b) => a.getStartPos() - b.getStartPos())\n          if (scrollPos + Util.displayHeight() < frames[key][0].getStartPos()) {\n            frames[key] = [frames[key][0]];\n          } else {\n            frames[key].sort((a, b) => {\n              if (a.getEndPos() > b.getEndPos()) {\n                return -1;\n              } else if (a.getEndPos() > b.getEndPos()) {\n                return 0\n              }\n              return 1;\n            });\n            if (scrollPos > frames[key][0].getEndPos()) {\n              frames[key] = [frames[key][0]];\n            }\n          }\n        } else {\n          visible.sort((a, b) => a.getStartPos() - b.getStartPos());\n          frames[key] = [visible[visible.length - 1]];\n        }\n      }\n    }\n\n    if (this.element) {\n      for (const key of Object.keys(frames)) {\n        if (frames[key]?.length) {\n          frames[key][0].motion.make(scrollPos, frames[key][0], this.element, scene);\n        }\n      }\n    }\n\n    if (this.afterRender) {\n      this.afterRender();\n    }\n  }\n\n  addFrame(frame: TimeFrame) {\n    this.frames.push(frame);\n  }\n\n  addFrames(frames: TimeFrame[]) {\n    this.frames = this.frames.concat(frames);\n  }\n\n  initElement() {\n    this.initStartPosition();\n    this.element = this.bindElement();\n    this.afterBindElement();\n  }\n\n}\n","import { Actor } from './actor.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { MoveMotion } from '../motions/move.motion';\nimport { Dimensions } from '../dimensions';\nimport { SizeMotion } from '../motions/size.motion';\nimport { OpacityMotion } from '../motions/opacity.motion';\nimport { Value } from '../value.model';\n\nexport abstract class InitiableActor extends Actor {\n\n  findFirstFrame(motionName: string): TimeFrame | undefined {\n    return  this.frames.reduce(\n      (acc: TimeFrame | undefined, frame: TimeFrame) => {\n        if (frame.motion.name === motionName) {\n          if (acc) {\n            if (frame.getStartPos() < acc?.getStartPos()) {\n              return frame;\n            } else  {\n              return acc;\n            }\n          } else {\n            return frame;\n          }\n        } else {\n          if (acc) {\n            return acc;\n          }\n          return undefined;\n        }\n      },\n      undefined\n    );\n  }\n\n  findFirstFrameByMoveMotion(): TimeFrame {\n    const firstFrame = this.findFirstFrame('MoveMotion');\n\n    if (firstFrame) {\n      console.log('Has first frame');\n      return firstFrame;\n    } else {\n      throw new Error('First \"MoveMotion\" frame wasn\\'t found');\n    }\n  }\n\n  calcStartSize(): Dimensions {\n    const firstFrame = this.findFirstFrame('SizeMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as SizeMotion;\n      return { width: motion.startWidth, height: motion.startHeight };\n    } else {\n      throw new Error('First \"SizeMotion\" frame wasn\\'t found');\n    }\n  }\n\n  calcStartOpacity(): Value {\n    const firstFrame = this.findFirstFrame('OpacityMotion');\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as OpacityMotion;\n      return motion.start;\n    } else {\n      throw new Error('First \"OpacityMotion\" frame wasn\\'t found');\n    }\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { InitiableActor } from './initiable.actor';\nimport { Util } from '../../util';\nimport { MoveMotion } from '../motions/move.motion';\n\nexport interface StaticActorOptions {\n  initPosition?: boolean;\n  initSize?: boolean;\n  initOpacity?: boolean;\n}\n\nexport class StaticActor extends InitiableActor {\n\n  constructor(\n    public override element: HTMLElement | undefined,\n    public options?: StaticActorOptions,\n  ) {\n    super();\n    this.options = {\n      initPosition: true,\n      initSize: true,\n      initOpacity: true,\n      ...this.options,\n    };\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    // if (this.element) {\n    //   if (this.options.initPosition) {\n    //     const timeFrame = this.findFirstFrameByMoveMotion();\n    //     (timeFrame.motion as MoveMotion).make(, timeFrame, this.element, );\n    //     // console.log('startCoord X', moveMotion.X(Util.displayWidth(), Util.displayHeight()));\n    //     // console.log('startCoord Y', moveMotion.Y(Util.displayWidth(), Util.displayHeight()));\n    //     // this.element.style.left = `${moveMotion.X(Util.displayWidth(), Util.displayHeight())}px`;\n    //     // this.element.style.top = `${moveMotion.Y(Util.displayWidth(), Util.displayHeight())}px`;\n    //   }\n    //   if (this.options.initSize) {\n    //     const startDimensions = this.calcStartSize();\n    //     this.element.style.width = `${startDimensions.width(Util.displayWidth(), Util.displayHeight())}px`;\n    //     this.element.style.height = `${startDimensions.height(Util.displayWidth(), Util.displayHeight())}px`;\n    //   }\n    //   if (this.options.initOpacity) {\n    //     const startOpacity = this.calcStartOpacity();\n    //     this.element.style.opacity = `${startOpacity(Util.displayWidth(), Util.displayHeight())}`;\n    //   }\n    // }\n    return this.element;\n  }\n\n}\n","import { InitiableActor } from './initiable.actor';\n\nexport class RefActor extends InitiableActor {\n\n  constructor(\n    public override element: HTMLElement | undefined,\n  ) {\n    super();\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { TimeFrame } from '../time-frame.model';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport abstract class Motion {\n\n  abstract name: string;\n\n  abstract make(\n      scrollPosForFrame: number,\n      frame: TimeFrame,\n      element: HTMLElement,\n      scene: SceneModel<any>,\n  ): void;\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\nimport { SceneModel } from '../scenes/scene.model';\n\nexport interface IMoveMotion {\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n}\n\nexport class MoveMotion extends Motion {\n\n  override name = 'MoveMotion';\n\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n\n  constructor(data: IMoveMotion) {\n    super();\n\n    this.startX = data.startX;\n    this.endX = data.endX;\n    this.startY = data.startY;\n    this.endY = data.endY;\n  }\n\n  renderX(scrollPos: number, frame: TimeFrame, element: HTMLElement): number {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.left = `${this.startX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.left = `${this.endX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endX(Util.displayWidth(), Util.displayHeight()) - this.startX(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const x = Util.castToInt(this.startX(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos()));\n\n      element.style.left = `${x}px`;\n    }\n  }\n\n  renderY(scrollPos: number, frame: TimeFrame, element: HTMLElement, scene: SceneModel<any>): number {\n    if (element) {\n      if (scene.name === 'StickyPlatformScene') {\n        if (scrollPos < frame.getStartPos()) {\n          element.style.top = `${this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n        if (scrollPos > frame.getEndPos()) {\n          element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n      } else if (scene.name === 'FixedActorsScene') {\n        if (scrollPos < frame.getStartPos()) {\n          element.style.top = `${scene.elementY() + this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n          return;\n        }\n        if (scrollPos > frame.getEndPos()) {\n          element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight()) - (scrollPos - frame.getEndPos())}px`;\n          return;\n        }\n      }\n\n      const motionL = this.endY(Util.displayWidth(), Util.displayHeight()) - this.startY(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const y = Util.castToInt(this.startY(Util.displayWidth(), Util.displayHeight()) + d * (frame.getStartPos() + scrollPos));\n\n      element.style.top = `${y}px`;\n    }\n  }\n\n  make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement, scene: SceneModel<any>) {\n    this.renderX(scrollPosForFrame, frame, element);\n    this.renderY(scrollPosForFrame, frame, element, scene);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport interface ISizeMotion {\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n}\n\nexport class SizeMotion extends Motion {\n\n  override name = 'SizeMotion';\n\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n\n  constructor(data: ISizeMotion) {\n    super();\n\n    this.startWidth = data.startWidth;\n    this.endWidth = data.endWidth;\n    this.startHeight = data.startHeight;\n    this.endHeight = data.endHeight;\n  }\n\n  renderWidth(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.width = `${this.startWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.width = `${this.endWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endWidth(Util.displayWidth(), Util.displayHeight()) - this.startWidth(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const width = this.startWidth(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.width = `${width}px`;\n    }\n  }\n\n  renderHeight(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.height = `${this.startHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.height = `${this.endHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endHeight(Util.displayWidth(), Util.displayHeight()) - this.startHeight(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const height = this.startHeight(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.height = `${height}px`;\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n    this.renderWidth(scrollPosForFrame, frame, element);\n    this.renderHeight(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { TimeFrame } from '../time-frame.model';\nimport { Util } from '../../util';\n\nexport interface IOpacityMotion {\n  start: Value;\n  end: Value;\n}\n\nexport class OpacityMotion extends Motion {\n\n  override name = 'OpacityMotion';\n\n  start: Value;\n  end: Value;\n\n  constructor(data: IOpacityMotion) {\n    super();\n\n    this.start = data.start;\n    this.end = data.end;\n  }\n\n  renderOpacity(scrollPos: number, frame: TimeFrame, element: HTMLElement) {\n    if (element) {\n      if (scrollPos < frame.getStartPos()) {\n        element.style.opacity = this.start(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n      if (scrollPos > frame.getEndPos()) {\n        element.style.opacity = this.end(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n\n      const motionL = this.end(Util.displayWidth(), Util.displayHeight()) - this.start(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const opacity = this.start(Util.displayWidth(), Util.displayHeight()) + d * (scrollPos - frame.getStartPos());\n\n      element.style.opacity = opacity.toString();\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: TimeFrame, element: HTMLElement) {\n    this.renderOpacity(scrollPosForFrame, frame, element);\n  }\n\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","displayWidth","document","documentElement","clientWidth","displayHeight","clientHeight","castToInt","num","Math","trunc","scene","inited","ticking","this","saveDisplaySize","init","tick","Util","isNeedResize","window","requestAnimationFrame","render","elementY","pos","scrollPos","offset","scroll","resize","resizeHeight","Error","scrollListener","bind","addEventListener","resizeListener","stop","removeEventListener","actors","container","options","handleScrollReset","scrollY","scrollTop","exclude","e","excludeIds","length","elementsFromPoint","clientX","clientY","find","element","includes","id","handleMouseWheel","preventDefault","delta","deltaY","limitY","abs","scrollHeight","scrollTo","mouseupListener","mousedownListener","mousewheelListener","passive","el","height","_actors","setDefaults","defaults","getBoundingClientRect","y","add","actor","push","name","stickyPlatformHeight","deviceWidth","deviceHeight","style","resizePlatform","platform","position","overflow","createElement","top","left","width","appendChild","parentElement","initElement","SceneModel","motion","start","end","undefined","getStartPos","getEndPos","SyntaxError","frames","initStartPosition","afterBindElement","groupFramesByMotion","reduce","acc","frame","motionName","beforeRender","keys","visible","filter","sort","a","b","make","afterRender","addFrame","addFrames","concat","bindElement","findFirstFrame","findFirstFrameByMoveMotion","firstFrame","console","log","calcStartSize","startWidth","startHeight","calcStartOpacity","Actor","initPosition","initSize","initOpacity","InitiableActor","data","startX","endX","startY","endY","renderX","d","x","renderY","scrollPosForFrame","Motion","endWidth","endHeight","renderWidth","renderHeight","renderOpacity","opacity","toString"],"sourceRoot":""}