{"version":3,"file":"index.es.js","mappings":"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","sources":["webpack://scroll-rise/webpack/bootstrap","webpack://scroll-rise/webpack/runtime/define property getters","webpack://scroll-rise/webpack/runtime/hasOwnProperty shorthand","webpack://scroll-rise/./src/scroll-rise.ts","webpack://scroll-rise/./src/models/measure.ts","webpack://scroll-rise/./src/scroll-rise-speed.ts","webpack://scroll-rise/./src/util.ts","webpack://scroll-rise/./src/canvas.ts","webpack://scroll-rise/./src/models/widgets/widget.model.ts","webpack://scroll-rise/./src/models/motions/motion.model.ts","webpack://scroll-rise/./src/models/motions/move-motion.model.ts","webpack://scroll-rise/./src/models/widgets/initiable-widget.ts","webpack://scroll-rise/./src/models/widgets/static-widget.ts","webpack://scroll-rise/./src/models/widgets/ref-widget.ts","webpack://scroll-rise/./src/models/motions/size-motion.model.ts","webpack://scroll-rise/./src/models/motions/opacity-motion.model.ts","webpack://scroll-rise/./src/models/frame.model.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { SRCanvas } from './canvas';\n\nexport class ScrollRise {\n\n  private ticking = false;\n  private scrollListener: (() => void) | undefined;\n  private resizeListener: (() => void) | undefined;\n\n  constructor(\n    public canvas: SRCanvas,\n  ) {\n    this.init();\n    this.tick();\n  }\n\n  tick() {\n    if (!this.ticking) {\n      window?.requestAnimationFrame(() => {\n        this.render(this.canvas.elementY());\n        this.ticking = false;\n      });\n\n      this.ticking = true;\n    }\n  }\n\n  scroll() {\n    this.tick();\n  }\n\n  resize() {\n    this.canvas.init();\n    this.tick();\n  }\n\n  private init() {\n    this.scrollListener = this.scroll.bind(this);\n    window?.addEventListener('scroll', this.scrollListener);\n    this.resizeListener = this.resize.bind(this);\n    window?.addEventListener('resize', this.resizeListener);\n  }\n\n  stop() {\n    if (this.scrollListener) {\n      window?.removeEventListener('scroll', this.scrollListener);\n    }\n    if (this.resizeListener) {\n      window?.removeEventListener('resize', this.resizeListener);\n    }\n  }\n\n  render(scrollPos: number) {\n    for (const widget of this.canvas.list) {\n      widget.render(scrollPos);\n    }\n  }\n\n}\n","export enum Measure {\n  px = 'px',\n  vmin = 'vmin',\n}\n","export class ScrollRiseSpeed {\n\n  private mouseupListener: (() => void) | undefined;\n  private mousedownListener: (() => void) | undefined;\n  private mousewheelListener: ((e: any) => void) | undefined;\n\n  constructor(\n    public container: HTMLElement,\n    protected options?: {\n      deltaY?: number,\n      limitY?: number,\n      excludeIds?: string[],\n    }\n  ) {}\n\n  handleScrollReset() {\n    scrollY = this.container.scrollTop;\n  }\n\n  exclude(e: any): any {\n    if (this.options?.excludeIds?.length) {\n      return document.elementsFromPoint(e.clientX, e.clientY).find(element => this.options?.excludeIds?.includes(element.id));\n    }\n  }\n\n  handleMouseWheel(e: any) {\n    if (!this.exclude(e)) {\n      e.preventDefault();\n      let delta = e.deltaY;\n      delta = this.options?.deltaY ? delta * this.options.deltaY : delta;\n      if (this.options?.limitY && Math.abs(delta) > this.options.limitY) {\n        delta = delta > 0 ? this.options.limitY : -this.options.limitY;\n      }\n      scrollY += delta;\n      if (scrollY > 0) {\n        var limitY = this.container.scrollHeight - this.container.clientHeight;\n        if (scrollY > limitY) {\n          scrollY = limitY;\n        }\n      } else {\n        scrollY = 0;\n      }\n      window?.scrollTo(0, scrollY);\n    }\n  }\n\n  init() {\n    this.mouseupListener = this.handleScrollReset.bind(this);\n    this.mousedownListener = this.handleScrollReset.bind(this);\n    this.mousewheelListener = this.handleMouseWheel.bind(this);\n    this.container.addEventListener('mouseup', this.mouseupListener, false);\n    this.container.addEventListener('mousedown', this.mousedownListener, false);\n    this.container.addEventListener('mousewheel', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('DOMMouseScroll', this.mousewheelListener, {\n      passive: false,\n    });\n    this.container.addEventListener('wheel', this.mousewheelListener, {\n      passive: false,\n    });\n  }\n\n  stop() {\n    if (this.mouseupListener) {\n      this.container.removeEventListener('mouseup', this.mouseupListener);\n    }\n    if (this.mousedownListener) {\n      this.container.removeEventListener('mousedown', this.mousedownListener);\n    }\n    if (this.mousewheelListener) {\n      this.container.removeEventListener('mousewheel', this.mousewheelListener);\n      this.container.removeEventListener('DOMMouseScroll', this.mousewheelListener);\n      this.container.removeEventListener('wheel', this.mousewheelListener);\n    }\n  }\n\n}\n","import { Size } from './models/size.model';\nimport { Measure } from './models/measure';\n\nexport class Util {\n\n  static displayWidth(): number {\n    return document.documentElement.clientWidth;\n  }\n\n  static displayHeight(): number {\n    return document.documentElement.clientHeight;\n  }\n\n  static vmin(percent: number = 1): number {\n    return (Math.min(this.displayWidth(), this.displayHeight()) / 100) * percent;\n  }\n\n  static asmSize(cssValue: string): Size | undefined {\n    const result = cssValue.match(/(\\d+\\.?\\d*)(\\D+)/);\n    if (!result) {\n      return undefined;\n    }\n    return {\n      value: Number(result[1]),\n      measure: result[2],\n    };\n  }\n\n  static px(cssValue: string): number | undefined {\n    const size = this.asmSize(cssValue);\n    switch (size?.measure) {\n      case Measure.px:\n        return size.value;\n      case Measure.vmin:\n        return this.vmin(size.value);\n    }\n    return undefined;\n  }\n\n}\n","import { Widget } from './models/widgets/widget.model';\nimport { Util } from './util';\n\nexport class SRCanvas {\n\n  private _list: Widget[] = [];\n\n  constructor(\n    protected el: HTMLElement,\n    protected height: (deviceWidth: number, deviceHeight: number) => number,\n  ) {\n    this.init();\n  }\n\n  init() {\n    this.el.style.height = `${this.height(Util.displayWidth(), Util.displayHeight())}px`;\n  }\n\n  elementY(): number {\n    return this.el.getBoundingClientRect().y;\n  }\n\n  add(widget: Widget) {\n    this._list.push(widget);\n    widget.initElement();\n  }\n\n  get list(): Widget[] {\n    return this._list;\n  }\n\n}\n","import { Frame } from '../frame.model';\nimport { Value } from '../value.model';\nimport { Coord } from '../coord.model';\nimport { Util } from '../../util';\n\nexport abstract class Widget {\n\n  constructor(\n    public startStyle?: string,\n  ) {}\n\n  protected element: HTMLElement | undefined;\n  abstract bindElement(): HTMLElement | undefined;\n\n  protected frames: Frame[] = [];\n\n  startX: Value | undefined;\n  startY: Value | undefined;\n\n  startWidth: Value | undefined;\n  startHeight: Value | undefined;\n\n  abstract calcStartPosition(): Coord;\n\n  initStartPosition() {}\n  afterBindElement() {}\n\n  setStartCoord(coord: Coord) {\n    this.startX = coord.X;\n    this.startY = coord.Y;\n  }\n\n  private groupFramesByMotion(frames: Frame[]): { [key: string]: Frame[] } {\n    return frames.reduce(\n      (acc: any, frame) => {\n        const motionName = frame.motion.name;\n        acc[motionName] = acc[motionName] ? [...acc[motionName], frame] : [frame];\n\n        return acc;\n      },\n      {}\n    );\n  }\n\n  render(scrollPos: number) {\n    const frames = this.groupFramesByMotion(this.frames);\n\n    for (const key of Object.keys(frames)) {\n      if (frames[key].length > 1) {\n        const visible = frames[key].filter(\n          frame =>\n            -scrollPos < frame.getStartPos() && -scrollPos + Util.displayHeight() >= frame.getStartPos() ||\n            -scrollPos >= frame.getStartPos() && -scrollPos + Util.displayHeight() <= frame.getEndPos() ||\n            -scrollPos >= frame.getStartPos() && -scrollPos <= frame.getEndPos()\n        );\n\n        if (visible.length === 1) {\n          frames[key] = visible;\n        } else if (visible.length === 0 && frames[key].length) {\n          frames[key].sort((a, b) => a.getStartPos() - b.getStartPos())\n          if (-scrollPos + Util.displayHeight() < frames[key][0].getStartPos()) {\n            frames[key] = [frames[key][0]];\n          } else {\n            frames[key].sort((a, b) => {\n              if (a.getEndPos() > b.getEndPos()) {\n                return -1;\n              } else if (a.getEndPos() > b.getEndPos()) {\n                return 0\n              }\n              return 1;\n            });\n            if (-scrollPos > frames[key][0].getEndPos()) {\n              frames[key] = [frames[key][0]];\n            }\n          }\n        } else {\n          visible.sort((a, b) => a.getStartPos() - b.getStartPos());\n          frames[key] = [visible[visible.length - 1]];\n        }\n      }\n    }\n\n    if (this.element) {\n      for (const key of Object.keys(frames)) {\n        if (frames[key]?.length) {\n          frames[key][0].motion.make(scrollPos, frames[key][0], this.element);\n        }\n      }\n    }\n  }\n\n  addFrame(frame: Frame) {\n    this.frames.push(frame);\n  }\n\n  addFrames(frames: Frame[]) {\n    this.frames = this.frames.concat(frames);\n  }\n\n  initElement() {\n    this.initStartPosition();\n    this.element = this.bindElement();\n    this.afterBindElement();\n  }\n\n}\n","import { Frame } from '../frame.model';\n\nexport abstract class Motion {\n\n  abstract name: string;\n\n  abstract make(scrollPosForFrame: number, frame: Frame, element: HTMLElement): void;\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { Frame } from '../frame.model';\nimport { Util } from '../../util';\n\nexport interface IMoveMotion {\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n}\n\nexport class MoveMotion extends Motion {\n\n  override name = 'MoveMotion';\n\n  startX: Value;\n  endX: Value;\n  startY: Value;\n  endY: Value;\n\n  constructor(data: IMoveMotion) {\n    super();\n\n    this.startX = data.startX;\n    this.endX = data.endX;\n    this.startY = data.startY;\n    this.endY = data.endY;\n  }\n\n  renderX(scrollPos: number, frame: Frame, element: HTMLElement) {\n    if (element) {\n      if (-scrollPos < frame.getStartPos()) {\n        element.style.left = `${this.startX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (-scrollPos > frame.getEndPos()) {\n        element.style.left = `${this.endX(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endX(Util.displayWidth(), Util.displayHeight()) - this.startX(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const y = this.startX(Util.displayWidth(), Util.displayHeight()) + d * ((-scrollPos) - frame.getStartPos());\n\n      element.style.left = `${y}px`;\n    }\n  }\n\n  renderY(scrollPos: number, frame: Frame, element: HTMLElement) {\n    if (element) {\n      if (-scrollPos < frame.getStartPos()) {\n        element.style.top = `${scrollPos + this.startY(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (-scrollPos > frame.getEndPos()) {\n        element.style.top = `${this.endY(Util.displayWidth(), Util.displayHeight()) - (-scrollPos - frame.getEndPos())}px`;\n        return;\n      }\n\n      const motionL = this.endY(Util.displayWidth(), Util.displayHeight()) - this.startY(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const y = Math.round(this.startY(Util.displayWidth(), Util.displayHeight()) + d * (frame.getStartPos() - scrollPos));\n\n      element.style.top = `${y}px`;\n    }\n  }\n\n  make(scrollPosForFrame: number, frame: Frame, element: HTMLElement) {\n    this.renderX(scrollPosForFrame, frame, element);\n    this.renderY(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Widget } from './widget.model';\nimport { Coord } from '../coord.model';\nimport { Frame } from '../frame.model';\nimport { MoveMotion } from '../motions/move-motion.model';\n\nexport abstract class InitiableWidget extends Widget {\n\n  calcStartPosition(): Coord {\n    const firstFrame: Frame | undefined = this.frames.reduce(\n      (acc: Frame | undefined, frame: Frame) => {\n        if (frame.motion instanceof MoveMotion) {\n          if (acc) {\n            if (frame.getStartPos() < acc?.getStartPos()) {\n              return frame;\n            } else  {\n              return acc;\n            }\n          } else {\n            return frame;\n          }\n        } else {\n          if (acc) {\n            return acc;\n          }\n          return undefined;\n        }\n      },\n      undefined\n    );\n\n    if (firstFrame) {\n      const motion = firstFrame.motion as MoveMotion;\n\n      if (!motion.startX) {\n        throw new SyntaxError('\\'startX\\' wasn\\'t found in the first frame');\n      }\n      if (!motion.startY) {\n        throw new SyntaxError('\\'startY\\' wasn\\'t found in the first frame');\n      }\n\n      return { X: motion.startX, Y: motion.startY };\n    } else {\n      throw new SyntaxError('First frame wasn\\'t found');\n    }\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { InitiableWidget } from './initiable-widget';\n\nexport class StaticWidget extends InitiableWidget {\n\n  constructor(\n    protected override element: HTMLElement | undefined,\n    public override startStyle?: string,\n  ) {\n    super(startStyle);\n  }\n\n  override initStartPosition() {\n    this.setStartCoord(this.calcStartPosition());\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    if (this.element) {\n      this.element.style.position = 'fixed';\n    }\n    return this.element;\n  }\n\n}\n","import { InitiableWidget } from './initiable-widget';\n\nexport class RefWidget extends InitiableWidget {\n\n  constructor(\n    protected override element: HTMLElement | undefined,\n    public override startStyle?: string,\n  ) {\n    super(startStyle);\n  }\n\n  override bindElement(): HTMLElement | undefined {\n    return this.element;\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { Frame } from '../frame.model';\nimport { Util } from '../../util';\n\nexport interface ISizeMotion {\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n}\n\nexport class SizeMotion extends Motion {\n\n  override name = 'SizeMotion';\n\n  startWidth: Value;\n  endWidth: Value;\n  startHeight: Value;\n  endHeight: Value;\n\n  constructor(data: ISizeMotion) {\n    super();\n\n    this.startWidth = data.startWidth;\n    this.endWidth = data.endWidth;\n    this.startHeight = data.startHeight;\n    this.endHeight = data.endHeight;\n  }\n\n  renderWidth(scrollPos: number, frame: Frame, element: HTMLElement) {\n    if (element) {\n      if (-scrollPos < frame.getStartPos()) {\n        element.style.width = `${this.startWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (-scrollPos > frame.getEndPos()) {\n        element.style.width = `${this.endWidth(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endWidth(Util.displayWidth(), Util.displayHeight()) - this.startWidth(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const width = this.startWidth(Util.displayWidth(), Util.displayHeight()) + d * ((-scrollPos) - frame.getStartPos());\n\n      element.style.width = `${width}px`;\n    }\n  }\n\n  renderHeight(scrollPos: number, frame: Frame, element: HTMLElement) {\n    if (element) {\n      if (-scrollPos < frame.getStartPos()) {\n        element.style.height = `${this.startHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n      if (-scrollPos > frame.getEndPos()) {\n        element.style.height = `${this.endHeight(Util.displayWidth(), Util.displayHeight())}px`;\n        return;\n      }\n\n      const motionL = this.endHeight(Util.displayWidth(), Util.displayHeight()) - this.startHeight(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const height = this.startHeight(Util.displayWidth(), Util.displayHeight()) + d * ((-scrollPos) - frame.getStartPos());\n\n      element.style.height = `${height}px`;\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: Frame, element: HTMLElement) {\n    this.renderWidth(scrollPosForFrame, frame, element);\n    this.renderHeight(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Value } from '../value.model';\nimport { Motion } from './motion.model';\nimport { Frame } from '../frame.model';\nimport { Util } from '../../util';\n\nexport interface IOpacityMotion {\n  start: Value;\n  end: Value;\n}\n\nexport class OpacityMotion extends Motion {\n\n  override name = 'OpacityMotion';\n\n  start: Value;\n  end: Value;\n\n  constructor(data: IOpacityMotion) {\n    super();\n\n    this.start = data.start;\n    this.end = data.end;\n  }\n\n  renderOpacity(scrollPos: number, frame: Frame, element: HTMLElement) {\n    if (element) {\n      if (-scrollPos < frame.getStartPos()) {\n        element.style.opacity = this.start(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n      if (-scrollPos > frame.getEndPos()) {\n        element.style.opacity = this.end(Util.displayWidth(), Util.displayHeight()).toString();\n        return;\n      }\n\n      const motionL = this.end(Util.displayWidth(), Util.displayHeight()) - this.start(Util.displayWidth(), Util.displayHeight());\n      const d = motionL/frame.length();\n      const opacity = this.start(Util.displayWidth(), Util.displayHeight()) + d * ((-scrollPos) - frame.getStartPos());\n\n      element.style.opacity = opacity.toString();\n    }\n  }\n\n  override make(scrollPosForFrame: number, frame: Frame, element: HTMLElement) {\n    this.renderOpacity(scrollPosForFrame, frame, element);\n  }\n\n}\n","import { Motion } from './motions/motion.model';\nimport { Util } from '../util';\n\nexport class Frame {\n\n  constructor(\n    public motion: Motion,\n    public start: (deviceWidth: number, deviceHeight: number) => number,\n    public end: (deviceWidth: number, deviceHeight: number) => number = start,\n  ) {\n    if (end === undefined) {\n      this.end = start;\n    } else  {\n      if (this.getStartPos() > this.getEndPos()) {\n        throw new SyntaxError('\"Start\" later than \"End\" in the frame');\n      }\n    }\n  }\n\n  getStartPos(): number {\n    return this.start(Util.displayWidth(), Util.displayHeight());\n  }\n\n  getEndPos(): number {\n    return this.end(Util.displayWidth(), Util.displayHeight());\n  }\n\n  length(): number {\n    return this.getEndPos() - this.getStartPos();\n  }\n\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Measure","canvas","ticking","this","init","tick","window","requestAnimationFrame","render","elementY","scroll","resize","scrollListener","bind","addEventListener","resizeListener","stop","removeEventListener","scrollPos","list","container","options","handleScrollReset","scrollY","scrollTop","exclude","e","excludeIds","length","document","elementsFromPoint","clientX","clientY","find","element","includes","id","handleMouseWheel","preventDefault","delta","deltaY","limitY","Math","abs","scrollHeight","clientHeight","scrollTo","mouseupListener","mousedownListener","mousewheelListener","passive","displayWidth","documentElement","clientWidth","displayHeight","vmin","percent","min","asmSize","cssValue","result","match","value","Number","measure","px","size","el","height","_list","style","Util","getBoundingClientRect","y","add","widget","push","initElement","startStyle","frames","initStartPosition","afterBindElement","setStartCoord","coord","startX","X","startY","Y","groupFramesByMotion","reduce","acc","frame","motionName","motion","name","keys","visible","filter","getStartPos","getEndPos","sort","a","b","make","addFrame","addFrames","concat","bindElement","data","endX","endY","renderX","left","d","renderY","top","round","scrollPosForFrame","Motion","calcStartPosition","firstFrame","MoveMotion","undefined","SyntaxError","Widget","position","InitiableWidget","startWidth","endWidth","startHeight","endHeight","renderWidth","width","renderHeight","start","end","renderOpacity","opacity","toString"],"sourceRoot":""}